var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){if(b.get||b.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var d=0;return $jscomp.iteratorPrototype(function(){return d<a.length?{done:!1,value:a[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var d=a[Symbol.iterator];return d?d.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var d,b=[];!(d=a.next()).done;)b.push(d.value);return b};$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};
$jscomp.owns=function(a,d){return Object.prototype.hasOwnProperty.call(a,d)};$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var l=a[c];l in b||(b[l]={});b=b[l]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};
$jscomp.polyfill("WeakMap",function(a){function d(a){$jscomp.owns(a,c)||$jscomp.defineProperty(a,c,{value:{}})}function b(a){var g=Object[a];g&&(Object[a]=function(a){d(a);return g(a)})}if(function(){if(!a||!Object.seal)return!1;try{var b=Object.seal({}),g=Object.seal({}),d=new a([[b,2],[g,3]]);if(2!=d.get(b)||3!=d.get(g))return!1;d["delete"](b);d.set(g,4);return!d.has(b)&&4==d.get(g)}catch(n){return!1}}())return a;var c="$jscomp_hidden_"+Math.random().toString().substring(2);b("freeze");b("preventExtensions");
b("seal");var l=0,h=function(a){this.id_=(l+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();a=$jscomp.makeIterator(a);for(var g;!(g=a.next()).done;)g=g.value,this.set(g[0],g[1])}};h.prototype.set=function(a,g){d(a);if(!$jscomp.owns(a,c))throw Error("WeakMap key fail: "+a);a[c][this.id_]=g;return this};h.prototype.get=function(a){return $jscomp.owns(a,c)?a[c][this.id_]:void 0};h.prototype.has=function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)};h.prototype["delete"]=
function(a){return $jscomp.owns(a,c)&&$jscomp.owns(a[c],this.id_)?delete a[c][this.id_]:!1};return h},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_MAP=!1;
$jscomp.polyfill("Map",function(a){if(!$jscomp.ASSUME_NO_NATIVE_MAP&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var g=Object.seal({x:4}),b=new a($jscomp.makeIterator([[g,"s"]]));if("s"!=b.get(g)||1!=b.size||b.get({x:4})||b.set({x:4},"t")!=b||2!=b.size)return!1;var d=b.entries(),c=d.next();if(c.done||c.value[0]!=g||"s"!=c.value[1])return!1;c=d.next();return c.done||4!=c.value[0].x||"t"!=c.value[1]||!d.next().done?!1:!0}catch(e){return!1}}())return a;$jscomp.initSymbol();
$jscomp.initSymbolIterator();var d=new WeakMap,b=function(a){this.data_={};this.head_=h();this.size=0;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)b=b.value,this.set(b[0],b[1])}};b.prototype.set=function(a,b){var g=c(this,a);g.list||(g.list=this.data_[g.id]=[]);g.entry?g.entry.value=b:(g.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:a,value:b},g.list.push(g.entry),this.head_.previous.next=g.entry,this.head_.previous=g.entry,this.size++);return this};b.prototype["delete"]=
function(a){a=c(this,a);return a.entry&&a.list?(a.list.splice(a.index,1),a.list.length||delete this.data_[a.id],a.entry.previous.next=a.entry.next,a.entry.next.previous=a.entry.previous,a.entry.head=null,this.size--,!0):!1};b.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=h();this.size=0};b.prototype.has=function(a){return!!c(this,a).entry};b.prototype.get=function(a){return(a=c(this,a).entry)&&a.value};b.prototype.entries=function(){return l(this,function(a){return[a.key,
a.value]})};b.prototype.keys=function(){return l(this,function(a){return a.key})};b.prototype.values=function(){return l(this,function(a){return a.value})};b.prototype.forEach=function(a,b){for(var d=this.entries(),c;!(c=d.next()).done;)c=c.value,a.call(b,c[1],c[0],this)};b.prototype[Symbol.iterator]=b.prototype.entries;var c=function(a,b){var c;c=b&&typeof b;"object"==c||"function"==c?d.has(b)?c=d.get(b):(c=""+ ++m,d.set(b,c)):c="p_"+b;var g=a.data_[c];if(g&&$jscomp.owns(a.data_,c))for(var e=0;e<
g.length;e++){var f=g[e];if(b!==b&&f.key!==f.key||b===f.key)return{id:c,list:g,index:e,entry:f}}return{id:c,list:g,index:-1,entry:void 0}},l=function(a,b){var c=a.head_;return $jscomp.iteratorPrototype(function(){if(c){for(;c.head!=a.head_;)c=c.previous;for(;c.next!=c.head;)return c=c.next,{done:!1,value:b(c)};c=null}return{done:!0,value:void 0}})},h=function(){var a={};return a.previous=a.next=a.head=a},m=0;return b},"es6-impl","es3");$jscomp.ASSUME_NO_NATIVE_SET=!1;
$jscomp.polyfill("Set",function(a){if(!$jscomp.ASSUME_NO_NATIVE_SET&&function(){if(!a||!a.prototype.entries||"function"!=typeof Object.seal)return!1;try{var b=Object.seal({x:4}),c=new a($jscomp.makeIterator([b]));if(!c.has(b)||1!=c.size||c.add(b)!=c||1!=c.size||c.add({x:4})!=c||2!=c.size)return!1;var d=c.entries(),h=d.next();if(h.done||h.value[0]!=b||h.value[1]!=b)return!1;h=d.next();return h.done||h.value[0]==b||4!=h.value[0].x||h.value[1]!=h.value[0]?!1:d.next().done}catch(m){return!1}}())return a;
$jscomp.initSymbol();$jscomp.initSymbolIterator();var d=function(a){this.map_=new Map;if(a){a=$jscomp.makeIterator(a);for(var b;!(b=a.next()).done;)this.add(b.value)}this.size=this.map_.size};d.prototype.add=function(a){this.map_.set(a,a);this.size=this.map_.size;return this};d.prototype["delete"]=function(a){a=this.map_["delete"](a);this.size=this.map_.size;return a};d.prototype.clear=function(){this.map_.clear();this.size=0};d.prototype.has=function(a){return this.map_.has(a)};d.prototype.entries=
function(){return this.map_.entries()};d.prototype.values=function(){return this.map_.values()};d.prototype[Symbol.iterator]=d.prototype.values;d.prototype.forEach=function(a,c){var b=this;this.map_.forEach(function(d){return a.call(c,d,d,b)})};return d},"es6-impl","es3");
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,b,c){$jscomp.initSymbolIterator();b=null!=b?b:function(a){return a};var d=[],h=a[Symbol.iterator];if("function"==typeof h)for(a=h.call(a);!(h=a.next()).done;)d.push(b.call(c,h.value));else for(var h=a.length,m=0;m<h;m++)d.push(b.call(c,a[m]));return d}},"es6-impl","es3");$jscomp.array=$jscomp.array||{};
$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var b=0,c={next:function(){if(b<a.length){var l=b++;return{value:d(l,a[l]),done:!1}}c.next=function(){return{done:!0,value:void 0}};return c.next()}};c[Symbol.iterator]=function(){return c};return c};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6-impl","es3");
(function(){function a(a){var e={};e.timeformat=a.hasAttribute("timeformat")?a.getAttribute("timeformat"):"double";e.start=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):"";e.end=a.hasAttribute("end")?a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):"";return e}function d(a){return[].concat.apply([],Array.prototype.map.call(a,function(a){var e=a.hasAttribute("class")?a.getAttribute("class"):"",k=a.hasAttribute("mode")?
a.getAttribute("mode"):"static";return Array.prototype.map.call(a.querySelectorAll("attribute"),function(a){var b=a.hasAttribute("id")?a.getAttribute("id"):"",c=a.hasAttribute("title")?a.getAttribute("title"):"";a=a.hasAttribute("type")?a.getAttribute("type"):"string";return new q(e,k,b,c,a)})}))}function b(a,b){var e={};return a?e=Array.prototype.map.call(a,function(a){var e=a.hasAttribute("id")?a.getAttribute("id"):"missing-id",c=a.hasAttribute("label")?a.getAttribute("label"):"missing-label",e=
new p(e,c);a.querySelector("attvalues")&&e.setAttValues(Array.prototype.map.call(a.querySelectorAll("attvalue"),function(a){var e=a.hasAttribute("for")?a.getAttribute("for"):a.hasAttribute("id")?a.getAttribute("id"):"",c=a.hasAttribute("value")?a.getAttribute("value"):"";if("dynamic"===b){var k=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";a=a.hasAttribute("end")?a.getAttribute("end"):
a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";return{"for":e,value:c,start:k,end:a}}return{"for":e,value:c}}));if(a.getElementsByTagName("viz:color").length){var k=a.getElementsByTagName("viz:color")[0],c=k.hasAttribute("r")?k.getAttribute("r"):"255",d=k.hasAttribute("g")?k.getAttribute("g"):"255",f=k.hasAttribute("b")?k.getAttribute("b"):"255",k=k.hasAttribute("a")?k.getAttribute("a"):"1";e.setVizRGBA("rgba("+c+","+d+","+f+","+k+")")}a.getElementsByTagName("viz:position").length&&
(f=a.getElementsByTagName("viz:position")[0],c=f.hasAttribute("x")?f.getAttribute("x"):"0",d=f.hasAttribute("y")?f.getAttribute("y"):"0",f=f.hasAttribute("z")?f.getAttribute("z"):"0",e.setVizPosition({x:parseFloat(c),y:parseFloat(d),z:parseFloat(f)}));a.getElementsByTagName("viz:size").length&&(c=a.getElementsByTagName("viz:size")[0],c=c.hasAttribute("value")?c.getAttribute("value"):"1.0",e.setVizSize(parseFloat(c)));a.getElementsByTagName("viz:shape").length&&(c=a.getElementsByTagName("viz:shape")[0],
c=c.hasAttribute("value")?c.getAttribute("value"):"disc",e.setVizShape(c));"dynamic"===b&&(a.querySelector("spells")?e.setSpells(Array.prototype.map.call(a.querySelectorAll("spell"),function(a){var e=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";a=a.hasAttribute("end")?a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):
"";return{start:e,end:a}})):(c=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"",a=a.hasAttribute("end")?a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"",e.setDynamicDates(c,a)));return e}):{}}function c(a,c){var e={};return a?e=Array.prototype.map.call(a,function(a){var e=a.hasAttribute("id")?a.getAttribute("id"):
"missing-id",b=a.hasAttribute("source")?a.getAttribute("source"):"missing-source",d=a.hasAttribute("target")?a.getAttribute("target"):"missing-target",e=new n(e,b,d);(b=a.hasAttribute("type")?a.getAttribute("type"):"")&&e.setType(b);(b=a.hasAttribute("label")?a.getAttribute("label"):"")&&e.setLabel(b);(b=a.hasAttribute("weight")?parseFloat(a.getAttribute("weight")):"")&&e.setLabel(b);a.querySelector("attvalues")&&e.setAttValues(Array.prototype.map.call(a.querySelectorAll("attvalue"),function(a){var e=
a.hasAttribute("for")?a.getAttribute("for"):a.hasAttribute("id")?a.getAttribute("id"):"",b=a.hasAttribute("value")?a.getAttribute("value"):"";if("dynamic"===c){var d=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";a=a.hasAttribute("end")?a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";return{"for":e,
value:b,start:d,end:a}}return{"for":e,value:b}}));if(a.getElementsByTagName("viz:color").length){var f=a.getElementsByTagName("viz:color")[0],b=f.hasAttribute("r")?f.getAttribute("r"):"255",d=f.hasAttribute("g")?f.getAttribute("g"):"255",k=f.hasAttribute("b")?f.getAttribute("b"):"255",f=f.hasAttribute("a")?f.getAttribute("a"):"1";e.setVizRGBA("rgba("+b+","+d+","+k+","+f+")")}a.getElementsByTagName("viz:size").length&&(b=a.getElementsByTagName("viz:size")[0],b=b.hasAttribute("value")?b.getAttribute("value"):
"1.0",e.setVizThickness(parseFloat(b)));a.getElementsByTagName("viz:shape").length&&(b=a.getElementsByTagName("viz:shape")[0],b=b.hasAttribute("value")?b.getAttribute("value"):"solid",e.setVizShape(b));"dynamic"===c&&(a.querySelector("spells")?e.setSpells(Array.prototype.map.call(a.querySelectorAll("spell"),function(a){var e=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";a=a.hasAttribute("end")?
a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"";return{start:e,end:a}})):(b=a.hasAttribute("start")?a.getAttribute("start"):a.hasAttribute("startopen")?a.getAttribute("startopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"",a=a.hasAttribute("end")?a.getAttribute("end"):a.hasAttribute("endopen")?a.getAttribute("endopen"):a.hasAttribute("timestamp")?a.getAttribute("timestamp"):"",e.setDynamicDates(b,
a)));return e}):{}}function l(a,b,c){if(!a)return c;if(a instanceof Array){for(var e in a)c=c.concat(l(a[e],b,[]));return c}a[b]&&c.push(a[b]);if("object"==typeof a&&null!==a){var d=Object.keys(a);if(0<d.length)for(e=0;e<d.length;e++)c=c.concat(l(a[d[e]],b,[]))}return c}function h(a,b,c){b||"undefined"===typeof a[0]||(b=a);c||"undefined"===typeof a[a.length-1]||(c=a[a.length-1]);b=a.indexOf(b);c=a.indexOf(c);return a.slice(b,c+1)}var m=function(a){if(a instanceof m)return a;if(!(this instanceof m))return new m(a);
this.libwrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=m),exports.gexf=m):this.gexf=m;m.VERSION="0.1.0";m.parse=function(e){return fetch(e).then(function(a){return a.text()}).then(function(a){return(new window.DOMParser).parseFromString(a,"text/xml")}).then(function(e){console.log("gefx version: ",e.getElementsByTagName("gexf")[0].getAttribute("version"));var f=e.querySelector("meta"),k={};f&&(k.lastmodifieddate=f.hasAttribute("lastmodifieddate")?
f.getAttribute("lastmodifieddate"):"",k.creator=f.querySelector("creator")?f.querySelector("creator").innerHTML:"",k.keywords=f.querySelector("keywords")?f.querySelector("keywords").innerHTML:"",k.description=f.querySelector("description")?f.querySelector("description").innerHTML:"");var f=e.getElementsByTagName("graph")[0],h={};h.mode=f.hasAttribute("mode")?f.getAttribute("mode"):"static";h.defaultedgetype=f.hasAttribute("defaultedgetype")?f.getAttribute("defaultedgetype"):"undirected";h.idtype=
f.hasAttribute("idtype")?f.getAttribute("idtype"):"string";k=new g(h,k);"dynamic"===k.mode&&k.setDynamicMetaData(a(e.getElementsByTagName("graph")[0]));f={};e.querySelectorAll("attributes").length&&(f=d(e.querySelectorAll("attributes")));h=b(e.querySelectorAll("node"),k.mode);e=c(e.querySelectorAll("edge"),k.mode);k.setAttributes(f);k.setNodes(h);k.setEdges(e);return k})};var g=function(a,b){this.mode=a.mode;this.defaultedgetype=a.defaultedgetype;this.idtype=a.idtype;this.meta=b};g.prototype.setNodes=
function(a){this.nodes=a};g.prototype.setEdges=function(a){this.edges=a};g.prototype.setAttributes=function(a){this.attributes=a};g.prototype.setDynamicMetaData=function(a){this.timeformat=a.timeformat;this.start=a.start;this.end=a.end};g.prototype.snapshots=function(){if("dynamic"!==this.mode||"double"!==this.timeformat)console.log("Could not convert to snapshosts - not a dynamic network or timeformat is not double");else if("double"===this.timeformat){var a={},b=new Set(l(this,"start",[]).map(Number)),
c=new Set(l(this,"end",[]).map(Number)),d=Array.from(new Set([].concat($jscomp.arrayFromIterable(b),$jscomp.arrayFromIterable(c)))).sort(function(a,b){return a-b});d.forEach(function(b){a[b]={nodes:[],edges:[]}});this.nodes.forEach(function(b){"spells"in b?b.spells.forEach(function(c){h(d,parseFloat(c.start),parseFloat(c.end)).forEach(function(c){a[c].nodes.push(b)})}):("start"in b||"end"in b)&&h(d,parseFloat(b.start),parseFloat(b.end)).forEach(function(c){a[c].nodes.push(b)})});this.edges.forEach(function(b){"spells"in
b?b.spells.forEach(function(c){h(d,parseFloat(c.start),parseFloat(c.end)).forEach(function(c){a[c].edges.push(b)})}):("start"in b||"end"in b)&&h(d,parseFloat(b.start),parseFloat(b.end)).forEach(function(c){a[c].edges.push(b)})});this.timeInstances=d;return this.snapshots=a}};var p=function(a,b){this.id=a;this.label=b};p.prototype.setVizRGBA=function(a){this.rgba=a};p.prototype.setVizPosition=function(a){this.position=a};p.prototype.setVizSize=function(a){this.size=a};p.prototype.setVizShape=function(a){this.shape=
a};p.prototype.setAttValues=function(a){this.attributeValues=a};p.prototype.setDynamicDates=function(a,b){this.start=a;this.end=b};p.prototype.setSpells=function(a){this.spells=a};var n=function(a,b,c){this.id=a;this.source=b;this.target=c};n.prototype.setType=function(a){this.type=a};n.prototype.setLabel=function(a){this.label=a};n.prototype.setWeight=function(a){this.weight=a};n.prototype.setAttValues=function(a){this.attributeValues=a};n.prototype.setVizRGBA=function(a){this.rgba=a};n.prototype.setVizThickness=
function(a){this.thickness=a};n.prototype.setVizShape=function(a){this.shape=a};n.prototype.setDynamicDates=function(a,b){this.start=a;this.end=b};n.prototype.setSpells=function(a){this.spells=a};var q=function(a,b,c,d,g){this["class"]=a;this.mode=b;this.id=c;this.title=d;this.type=g};"function"===typeof define&&define.amd&&define("gexf",[],function(){return m})}).call(this);
